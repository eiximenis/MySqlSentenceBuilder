<h1>MySql Sentence Builders</h1>

<p>This project contains some classes to help generate SQL SELECT sentences for MySql Database.<br />
Tf you use any micro-ORM like Dapper one of the most tedious things is to write manually the SQL Sentences.<br />
Classes on this project allows writing simple SELECT sentences using fluent interface and entity classes.  </p>

<p>Provided are three classes for helping you on this:</p>

<ul>
<li>SqlSentenceBuilder&lt;T&gt;: To build sentences involving on table</li>
<li>SqlSentenceBuilder&lt;TL,TR&gt;: To build sentences involving two tables (i. e. joins)</li>
<li>MultiSqlSentenceBuilder: To build sentences involving any number of tables.</li>
</ul>

<p>Use is very easy as three classes exposes a similar (but not identical) fluent interface.<br />
Some basic samples:</p>

<h2>Select some columns</h2>

<pre><code>    var builder = new SqlSentenceBuilder&lt;Customer&gt;();
    builder.WithColumns(c =&gt; c.Id, c =&gt; c.LastName);
    var sql = builder.ToSql();
</code></pre>

<p>Generates: select Customer.Id, Customer.LastName from Customer</p>

<h2>Filtering</h2>

<pre><code>    var builder = new SqlSentenceBuilder&lt;Customer&gt;();
    builder.WithColumns(c =&gt; c.Id, c =&gt; c.LastName).WhereParameters(c =&gt; c.Id);
    var sql = builder.ToSql();
</code></pre>

<p>Generates: select Customer.Id, Customer.LastName from Customer where Customer.Id = @Id</p>

<h2>Joining</h2>

<pre><code>    var builder = new MultiSqlSentenceBuilder();
    builder.WithTable&lt;Customer&gt;().WithColumns(t =&gt; t.Id, t =&gt; t.LastName, t =&gt; t.Name);
    builder.WithTable&lt;Product&gt;().WithColumns(p =&gt; p.Id, p =&gt; p.Name);
    builder.Join&lt;Customer, Product&gt;(c =&gt; c.Id, p =&gt; p.CustomerId);
    var sql = builder.ToSql();
</code></pre>

<p>Generates: select Customer.Id, Customer.LastName, Customer.Name, Product.Id, Product.Name from Customer,Product INNER join Product on Customer.Id = Product.CustomerId </p>

<pre><code>    var builder = new MultiSqlSentenceBuilder();
    builder.WithTable&lt;Customer&gt;().WithColumns(t =&gt; t.Id, t =&gt; t.LastName, t =&gt; t.Name).
        WithTable&lt;Product&gt;().WithColumns(p =&gt; p.Id, p =&gt; p.Name).
        WhereParameters&lt;Product&gt;(WhereSpecOperator.GT, p =&gt; p.CustomerId).
        Join&lt;Customer, Product&gt;(c =&gt; c.Id, p =&gt; p.CustomerId);
    var sql = builder.ToSql();
</code></pre>

<p>Generates: select  Customer.Id, Customer.LastName, Customer.Name, Product.Id,Product.Name from Customer, Product INNER join Product on Customer.Id = Product.CustomerId  WHERE Product.CustomerId &gt; @CustomerId</p>

<h2>Joining two tables but only selecting fields of one</h2>

<pre><code>    var builder = new SqlSentenceBuilder&lt;Customer, Product&gt;().
        WithNoRightColumns().
        Join(c =&gt; c.Id, p =&gt; p.CustomerId);
</code></pre>

<p>Generates: select Customer.Id, Customer.Name, Customer.LastName from Customer INNER join Product on Customer.Id = Product.CustomerId</p>

<p>If you prefer, can use MultiSqlSentenceBuilder for generating the same select:</p>

<pre><code>    var builder = new MultiSqlSentenceBuilder().
        WithFullTable&lt;Customer&gt;().
        Join&lt;Customer, Product&gt;(c =&gt; c.Id, p =&gt; p.CustomerId);
</code></pre>
